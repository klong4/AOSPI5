<?xml version="1.0" encoding="utf-8"?>
<!-- Raspberry Pi 5 Media Profiles -->
<MediaSettings>
    <!-- Video profiles for camera recording -->
    <CamcorderProfiles cameraId="0">
        <!-- 1080p recording -->
        <EncoderProfile quality="1080p" fileFormat="mp4" duration="30">
            <Video codec="h264"
                   bitRate="17000000"
                   width="1920"
                   height="1080"
                   frameRate="30" />
            <Audio codec="aac"
                   bitRate="128000"
                   sampleRate="48000"
                   channels="2" />
        </EncoderProfile>

        <!-- 720p recording -->
        <EncoderProfile quality="720p" fileFormat="mp4" duration="30">
            <Video codec="h264"
                   bitRate="8000000"
                   width="1280"
                   height="720"
                   frameRate="30" />
            <Audio codec="aac"
                   bitRate="128000"
                   sampleRate="48000"
                   channels="2" />
        </EncoderProfile>

        <!-- 480p recording -->
        <EncoderProfile quality="480p" fileFormat="mp4" duration="30">
            <Video codec="h264"
                   bitRate="4000000"
                   width="720"
                   height="480"
                   frameRate="30" />
            <Audio codec="aac"
                   bitRate="128000"
                   sampleRate="48000"
                   channels="2" />
        </EncoderProfile>

        <!-- QVGA recording -->
        <EncoderProfile quality="qvga" fileFormat="mp4" duration="30">
            <Video codec="h264"
                   bitRate="1000000"
                   width="320"
                   height="240"
                   frameRate="30" />
            <Audio codec="aac"
                   bitRate="96000"
                   sampleRate="48000"
                   channels="1" />
        </EncoderProfile>

        <!-- High quality still image -->
        <ImageEncoding quality="95" />
        <ImageEncoding quality="80" />
        <ImageEncoding quality="70" />
        <ImageDecoding memCap="20000000" />
    </CamcorderProfiles>

    <!-- Video encoder capabilities -->
    <EncoderOutputFileFormat name="3gp" />
    <EncoderOutputFileFormat name="mp4" />

    <VideoEncoderCap name="h264" enabled="true"
        minBitRate="64000" maxBitRate="40000000"
        minFrameWidth="176" maxFrameWidth="1920"
        minFrameHeight="144" maxFrameHeight="1080"
        minFrameRate="1" maxFrameRate="60" />

    <VideoEncoderCap name="h263" enabled="true"
        minBitRate="64000" maxBitRate="2000000"
        minFrameWidth="176" maxFrameWidth="800"
        minFrameHeight="144" maxFrameHeight="600"
        minFrameRate="1" maxFrameRate="30" />

    <VideoEncoderCap name="mpeg4" enabled="true"
        minBitRate="64000" maxBitRate="8000000"
        minFrameWidth="176" maxFrameWidth="1280"
        minFrameHeight="144" maxFrameHeight="720"
        minFrameRate="1" maxFrameRate="30" />

    <!-- Audio encoder capabilities -->
    <AudioEncoderCap name="aac" enabled="true"
        minBitRate="8000" maxBitRate="320000"
        minSampleRate="8000" maxSampleRate="48000"
        minChannels="1" maxChannels="2" />

    <AudioEncoderCap name="amrnb" enabled="true"
        minBitRate="5525" maxBitRate="12200"
        minSampleRate="8000" maxSampleRate="8000"
        minChannels="1" maxChannels="1" />

    <!-- Video decoder capabilities -->
    <VideoDecoderCap name="h264" enabled="true"/>
    <VideoDecoderCap name="h263" enabled="true"/>
    <VideoDecoderCap name="mpeg4" enabled="true"/>
    <VideoDecoderCap name="vp8" enabled="true"/>
    <VideoDecoderCap name="vp9" enabled="true"/>

    <!-- Audio decoder capabilities -->
    <AudioDecoderCap name="aac" enabled="true"/>
    <AudioDecoderCap name="mp3" enabled="true"/>
    <AudioDecoderCap name="amrnb" enabled="true"/>
    <AudioDecoderCap name="vorbis" enabled="true"/>
    <AudioDecoderCap name="opus" enabled="true"/>
    <AudioDecoderCap name="flac" enabled="true"/>
</MediaSettings>
